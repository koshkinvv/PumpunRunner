–¶–µ–ª—å PROMT-–∞:
–°–æ–∑–¥–∞—Ç—å —á–∏—Å—Ç—ã–π, –º–æ–¥—É–ª—å–Ω—ã–π, MCP-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç GeneratePlanUseCase, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

–∫–∞–∫ Agent Tool –≤ OpenAI AgentBuilder

–æ—Ç–¥–µ–ª—å–Ω–æ –≤ openai_service.py

–∏–ª–∏ –≤ —Ç–µ—Å—Ç–∞—Ö/–ª–æ–≥–∞—Ö

üßæ PROMT –¥–ª—è Replit AI Agent (c —É—á—ë—Ç–æ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
txt
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
–¢—ã –æ–ø—ã—Ç–Ω—ã–π Python-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –∑–Ω–∞–∫–æ–º—ã–π —Å OpenAI Agents SDK –∏ Model Context Protocol (MCP).

–Ø —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é Telegram-–±–æ—Ç–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º **PumpunRunner**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –±–µ–≥–æ–≤—ã–µ –ø–ª–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é OpenAI GPT.

–°–µ–π—á–∞—Å GPT –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏–∑ —Ñ–∞–π–ª–∞ `openai_service.py`, –Ω–æ —è —Ö–æ—á—É —Å–¥–µ–ª–∞—Ç—å **MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `GeneratePlanUseCase`**, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å OpenAI Agents SDK, —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å, –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É.

üì¶ –í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ –µ—Å—Ç—å —Ñ–∞–π–ª—ã:
- `final_coach_prompt.py`, `openai_service.py`, `training_plan_manager.py`
- –û–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–Ω–∞–Ω–∏—è –∏ –ø—Ä–æ–º–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—Ç—å

---

üéØ –¢–≤–æ—è –∑–∞–¥–∞—á–∞:

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `agent/tools/generate_plan.py` —Å MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º `GeneratePlanUseCase`, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º OpenAI Agents SDK.

–û–Ω –¥–æ–ª–∂–µ–Ω:

1. –°–æ–¥–µ—Ä–∂–∞—Ç—å pydantic-–º–æ–¥–µ–ª–∏:
```python
class RecentRun(BaseModel):
    date: str
    distance: float
    pace: str

class RunnerProfile(BaseModel):
    age: int
    gender: str
    weight: float
    height: float
    level: str  # beginner / amateur / advanced
    weekly_distance: float
    goal_distance: str
    goal_date: str
    available_days: List[str]
    recent_runs: Optional[List[RecentRun]] = []
–û–ø–∏—Å—ã–≤–∞—Ç—å –∫–ª–∞—Å—Å GeneratePlanUseCase:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
class GeneratePlanUseCase:
    id = "generate_training_plan"
    description = "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è 7-–¥–Ω–µ–≤–Ω–æ–≥–æ –±–µ–≥–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    input_model = RunnerProfile
    output_model = str

    def __call__(self, input: RunnerProfile) -> str:
        ...
–í–Ω—É—Ç—Ä–∏ __call__, –æ–Ω –¥–æ–ª–∂–µ–Ω:

—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å system_prompt –ø–æ –º–µ—Ç–æ–¥–∏–∫–∞–º Daniels, Magness, Bompa

—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å user_prompt –∏–∑ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è

–≤—ã–∑–≤–∞—Ç—å gpt-4o —á–µ—Ä–µ–∑ openai.ChatCompletion.create(...)

–≤–µ—Ä–Ω—É—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω –∫–∞–∫ —Å—Ç—Ä–æ–∫—É (–º–æ–∂–Ω–æ –≤ markdown-—Ñ–æ—Ä–º–∞—Ç–µ –ø–æ –¥–Ω—è–º)

üìç –£—Å–ª–æ–≤–∏—è:

–ù–ï –∏–∑–º–µ–Ω—è–π openai_service.py

–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫—Ä–æ–º–µ openai, pydantic

–ù–ï –ø–µ—Ä–µ–º–µ—â–∞–π –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã

–ù–ï –¥–µ–ª–∞–π –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–±–ª—é–¥–∞–π MCP-—Å—Ç—Ä—É–∫—Ç—É—Ä—É: id, description, input_model, output_model, __call__